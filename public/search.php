<?php
//echo "hello" . "\n";
///**
// * Знаходить у тексті:
// * 1. Слова від 5 до 7 символів.
// * 2. Слова, що зустрічаються від 5 до 10 разів.
// * 3. Слова, які містять "а" і "у".
// */
//
//$text = "Я бачу у вікно громаддя хмар,
//Холодних, білосніжних, як зимою,
//І ніжно-голубе, яскраве небо.
//Осінній день погожий, і на північ
//Відходять хмари. Клени золоті
//І під балконом дві березки білі
//Просвічують на небі всохлим листям.";

//// Результати
//$result = [];
//$currentWord = '';
//
//// Цикл для проходження по кожному символу
//for ($i = 0; $i <= strlen($text); $i++) {
//    $char = $text[$i] ?? '';
//
//    // Якщо це літера або дефіс, додаємо до слова
//    if (ctype_alpha($char) || $char === '-') {
//        $currentWord .= $char;
//    } else {
//        // Якщо це не літера, перевіряємо слово
//        if (strlen($currentWord) >= 5 && strlen($currentWord) <= 7) {
//            $result[] = $currentWord; // Додаємо слово до результату
//        }
//        $currentWord = ''; // Скидаємо слово
//    }
//}

//// Вивід результатів
//echo "Слова довжиною від 5 до 7 символів:\n";
//foreach ($result as $word) {
//    echo $word . "\n";
//}

echo "hello\n";
/**
 * Знаходить у тексті:
 * 1. Слова від 5 до 7 символів.
 * 2. Слова, що зустрічаються від 5 до 10 разів.
 * 3. Слова, які містять "а" і "у".
 */

$text = "Я бачу у вікно громаддя хмар, 
Холодних, білосніжних, як зимою, 
І ніжно-голубе, яскраве небо. 
Осінній день погожий, і на північ 
Відходять хмари. Клени золоті 
І під балконом дві березки білі 
Просвічують на небі всохлим листям.";

// Результати
$result = [];
$currentWord = '';

// Цикл для проходження по кожному символу
for ($i = 0; $i <= mb_strlen($text); $i++) {
    $char = mb_substr($text, $i, 1);

    // Якщо це літера або дефіс, додаємо до слова
    if (preg_match('/[а-яА-ЯёЁіІїЇєЄґҐa-zA-Z-]/u', $char)) {
        $currentWord .= $char;
    } else {
        // Якщо це не літера, перевіряємо слово
        if (mb_strlen($currentWord) >= 5 && mb_strlen($currentWord) <= 7) {
            $result[] = $currentWord; // Додаємо слово до результату
        }
        $currentWord = ''; // Скидаємо слово
    }
}

// Вивід результатів
echo "Слова довжиною від 5 до 7 символів:\n";
foreach ($result as $word) {
    echo  "<br>" . $word . "\n" ;
}
echo  "<br>";
echo  "-----------------------------------------------------";
echo  "<br>";


echo "hello\n";

// Вхідний текст
$text = "Я бачу у вікно громаддя хмар,
Холодних, білосніжних, як зимою,
І ніжно-голубе, яскраве небо.
Осінній день погожий, і на північ
Відходять хмари. Клени золоті
І під балконом дві березки білі
Просвічують на небі всохлим листям.";

// Ініціалізація
$result = []; // Масив для слів
$currentWord = ''; // Поточне слово
$index = 0; // Поточний індекс у тексті

// Цикл обробки тексту
while (isset($text[$index])) {
    $char = $text[$index]; // Поточний символ

    // Перевіряємо, чи символ є буквою кирилиці
    if (
        ($char >= 'а' && $char <= 'я') || ($char >= 'А' && $char <= 'Я') ||
        $char === 'і' || $char === 'І' || $char === 'ї' || $char === 'Ї' ||
        $char === 'є' || $char === 'Є' || $char === 'ґ' || $char === 'Ґ'
    ) {
        $currentWord .= $char; // Додаємо символ до поточного слова
    } else {
        // Якщо слово закінчилося
        if ($currentWord !== '') {
            // Ручний підрахунок довжини слова
            $wordLength = 0;
            $i = 0;
            while (isset($currentWord[$i])) {
                $wordLength++;
                $i++;
            }

            // Перевірка довжини слова
            if ($wordLength >= 5 && $wordLength <= 7) {
                // Додаємо слово в масив результатів
                $result[] = $currentWord;
            }

            $currentWord = ''; // Скидаємо поточне слово
        }
    }

    $index++; // Наступний символ
}

// Перевірка останнього слова (якщо текст не закінчується розділовим знаком)
if ($currentWord !== '') {
    $wordLength = 0;
    $i = 0;
    while (isset($currentWord[$i])) {
        $wordLength++;
        $i++;
    }

    if ($wordLength >= 5 && $wordLength <= 7) {
        $result[] = $currentWord;
    }
}

// Виведення результатів
if (!empty($result)) {
    echo "Слова довжиною від 5 до 7 символів:\n";
    foreach ($result as $word) {
        echo $word . "\n";
    }
} else {
    echo "Слова не знайдено.\n";
}
